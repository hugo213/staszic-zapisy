{% extends "zapisy/user_base.html" %}

{% block title %}Nauczyciele{% endblock title %}

{% block scripts %}
    {{ super() }}

    <script src="/static/search.js"></script>

    <script>

        var teachers = [
            {% for n in nauczyciele %}
                {'name':'{{n.imie}} {{n.nazwisko}}', 'fname':'{{n.imie}}', 'lname':'{{n.nazwisko}}',
                    'rendered':
                        {% if n.obecny %}
                            '<a class="collection-item" href="nauczyciel/{{n.id}}">{{n.imie}} {{n.nazwisko}}</a>'
                        {% else %}
                            '<li class="collection-item grey-text">{{n.imie}} {{n.nazwisko}}' +
                            '<span class="badge grey lighten-2 white-text">nieobecny</span></li>'
                        {% endif %}
                },
            {% endfor %}
        ];

        var empty = '<li class="collection-item red-text">Nie znaleziono nauczyciela.</li>';

        function search_input() {
            $('#teachers').html(search($('#search').val(), teachers, empty));
        }

        $('body').ready(function(){search_input()});

    </script>

{% endblock scripts %}

{% block content %}

    <br>

    <div class="row">
        <div class="col s12">
            <div class="card white">
                <div class="card-content white-text">
                    <input type="text" id="search" oninput="search_input();" placeholder="Wyszukaj nauczyciela"/>
                    <ul class="collection" id="teachers"></ul>
                </div>
            </div>
        </div>
    </div>

{% endblock content %}
